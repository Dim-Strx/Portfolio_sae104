{% extends 'base.html.twig' %}

{% block title %}Mon CV{% endblock %}

{% block body %}


<main class="container mt-5 mb-5">
    <section class="header mb-4">
        <h1>Mon CV</h1>
        <h2>Ingénieur Réseaux et Télécommunications</h2>
    </section>

    <section class="section mb-4">
        <h2>Informations Personnelles</h2>
        <p><strong>Nom:</strong> John Doe</p>
        <p><strong>Email:</strong> john.doe@example.com</p>
        <p><strong>Téléphone:</strong> 123-456-7890</p>
    </section>

    <section class="section mb-4">
        <h2>Formations</h2>
        <ul>
            <li>
                <h3>Master en Informatique</h3>
                <p>Université de Exemple, 2018 - 2020</p>
            </li>
            <li>
                <h3>Licence en Informatique</h3>
                <p>Université de Exemple, 2015 - 2018</p>
            </li>
        </ul>
    </section>

    <section class="section mb-4">
        <h2>Expériences Professionnelles</h2>
        <ul>
            <li>
                <h3>Développeur Web chez XYZ</h3>
                <p>Janvier 2020 - Présent</p>
                <p>Description du poste et des responsabilités.</p>
            </li>
            <li>
                <h3>Stagiaire Développeur chez ABC</h3>
                <p>Juin 2019 - Décembre 2019</p>
                <p>Description du poste et des responsabilités.</p>
            </li>
        </ul>
    </section>

    <section class="section mb-4">
        <h2>Compétences</h2>
        <ul>
            <li>HTML, CSS, JavaScript</li>
            <li>PHP, Symfony</li>
            <li>MySQL, PostgreSQL</li>
        </ul>
    </section>

    <section class="section mb-4">
        <h2>Langues</h2>
        <ul>
            <li>Français (natif)</li>
            <li>Anglais (courant)</li>
        </ul>
    </section>

    <h2>Télécharger le CV</h2>
    <form id="telechargerForm" onsubmit="return handleFormSubmit(event)">
        <div class="mb-3">
            <label for="name" class="form-label">Nom</label>
            <input type="text" class="form-control" id="name" name="name" required>
        </div>
        <div class="mb-3">
            <label for="email" class="form-label">Email</label>
            <input type="email" class="form-control" id="email" name="email" required>
        </div>
        <div class="text-center mb-4">
            <button type="submit" class="btn btn-primary">Télécharger le CV en PDF</button>
        </div> 
    </form>

    <script>
    function handleFormSubmit(event) {
        event.preventDefault(); // Empêche l'envoi classique du formulaire

        // Récupère les valeurs des champs
        const nom = document.getElementById('name').value.trim();
        const email = document.getElementById('email').value.trim();

        // Vérifie si tous les champs sont remplis
        if (!nom || !email) {
            alert("Veuillez remplir tous les champs avant de confirmer.");
            return false;
        }

        // Si les champs sont valides, lance le téléchargement
        const downloadLink = document.createElement('a');
        downloadLink.href = '/docs/fcv.pdf'; // Chemin du fichier à télécharger
        downloadLink.download = 'fcv.pdf';
        downloadLink.click();

        return true;
    }
</script>
</main>

<button class="back-to-top" onclick="scrollToTop()">↑</button>

{% endblock %}